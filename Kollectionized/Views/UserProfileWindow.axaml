<Window
    x:Class="Kollectionized.Views.UserProfileWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:Kollectionized.ViewModels"
    xmlns:controls="clr-namespace:Kollectionized.Controls"
    x:DataType="vm:UserProfileViewModel"
    Width="500" Height="600" Title="User Profile">
    
    <DockPanel>
        <StackPanel Spacing="12" Margin="20">
            <TextBlock Text="{Binding ViewedUsername}" FontSize="20" FontWeight="Bold"/>
        
            <TextBlock Text="[Public user data here]" FontStyle="Italic" Foreground="Gray"/>
            <TextBlock Text="Bio: "><Run Text="{Binding Bio}"></Run></TextBlock>
            <TextBlock Text="Created at: "><Run Text="{Binding CreatedAt}"></Run></TextBlock>
        
            <StackPanel IsVisible="{Binding IsCurrentUser}" Spacing="8" Margin="0 20 0 0">
                <TextBlock Text="Account Settings" FontSize="16" FontWeight="Bold"/>

                <TextBlock Text="Change Username:"/>
                <TextBox Text="{Binding EditableUsername}"/>

                <Button Content="Save Username" Command="{Binding SaveUsernameCommand}"/>

                <Separator/>

                <Button Content="❌ Delete Account" Command="{Binding DeleteAccountCommand}" Background="DarkRed" Foreground="White"/>
            
                <TextBlock Text="{Binding ErrorMessage}" Foreground="Red"/>
            </StackPanel>
            
        </StackPanel>
        
        <controls:CardInstanceGridBrowserView DataContext="{Binding CardGridViewModel}" />
    </DockPanel>
</Window>